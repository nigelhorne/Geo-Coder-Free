<!DOCTYPE html
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="https://www.w3.org/1999/xhtml">
<!--
This file was generated by Devel::Cover Version 1.51
Devel::Cover is copyright 2001-2025, Paul Johnson (paul@pjcj.net)
Devel::Cover is free. It is licensed under the same terms as Perl itself.
The latest version of Devel::Cover should be available from my homepage:
https://pjcj.net
-->
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
    <meta http-equiv="Content-Language" content="en-us"></meta>
    <link rel="stylesheet" type="text/css" href="cover.css"></link>
    <link rel="stylesheet" type="text/css" href="cover.css"></link>
    <title>Branch Coverage: blib/lib/Geo/Coder/Free/MaxMind.pm</title>
</head>
<body>
<h1>Branch Coverage</h1>
<table>
<tr><td class="h" align="right">File:</td><td align="left">blib/lib/Geo/Coder/Free/MaxMind.pm</td></tr>
<tr><td class="h" align="right">Coverage:</td><td align="left" class="c0">5.7%</td></tr>
</table>
<div><br/></div>
<table>
<tr><th>line</th><th>%</th><th colspan="2">coverage</th><th>branch</th></tr>
<tr><td class="h"><a id="L113">113</a></td><td class="c0">50</td><td class="c3">T</td><td class="c0">F</td><td class="s">ref $_[0] eq &#39;HASH&#39; ? :</td></tr>
<tr><td class="h"><a id="L115">115</a></td><td class="c0">50</td><td class="c0">T</td><td class="c3">F</td><td class="s">if (not defined $class) { }</td></tr>
<tr><td class="h"></td><td class="c0">50</td><td class="c0">T</td><td class="c3">F</td><td class="s">elsif (&amp;Scalar::Util::blessed($class)) { }</td></tr>
<tr><td class="h"><a id="L130">130</a></td><td class="c0">50</td><td class="c0">T</td><td class="c3">F</td><td class="s">unless (-d $directory)</td></tr>
<tr><td class="h"><a id="L170">170</a></td><td class="c0">50</td><td class="c0">T</td><td class="c3">F</td><td class="s">if (not ref $self) { }</td></tr>
<tr><td class="h"></td><td class="c0">50</td><td class="c0">T</td><td class="c3">F</td><td class="s">elsif (ref $self eq &#39;HASH&#39;) { }</td></tr>
<tr><td class="h"></td><td class="c0">50</td><td class="c3">T</td><td class="c0">F</td><td class="s">elsif (ref $_[0] eq &#39;HASH&#39;) { }</td></tr>
<tr><td class="h"></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">elsif (ref $_[0]) { }</td></tr>
<tr><td class="h"></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">elsif (scalar @_ and scalar(@_) % 2 == 0) { }</td></tr>
<tr><td class="h"><a id="L171">171</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">if (scalar @_) { }</td></tr>
<tr><td class="h"></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">elsif (not defined $self) { }</td></tr>
<tr><td class="h"></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">elsif ($self eq __PACKAGE__) { }</td></tr>
<tr><td class="h"><a id="L194">194</a></td><td class="c0">50</td><td class="c0">T</td><td class="c3">F</td><td class="s">unless my $location = $params{&quot;location&quot;}</td></tr>
<tr><td class="h"><a id="L197">197</a></td><td class="c0">50</td><td class="c0">T</td><td class="c3">F</td><td class="s">unless ($location =~ /\D/)</td></tr>
<tr><td class="h"><a id="L202">202</a></td><td class="c0">50</td><td class="c0">T</td><td class="c3">F</td><td class="s">if ($location =~ /^(.+),\s*Washington\s*DC,(.+)$/)</td></tr>
<tr><td class="h"><a id="L206">206</a></td><td class="c0">50</td><td class="c0">T</td><td class="c3">F</td><td class="s">if (my $rc = $known_locations{$location})</td></tr>
<tr><td class="h"><a id="L219">219</a></td><td class="c0">50</td><td class="c3">T</td><td class="c0">F</td><td class="s">unless $location =~ /,/ or $params{&quot;region&quot;}</td></tr>
<tr><td class="h"><a id="L223">223</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">if $cached_result</td></tr>
<tr><td class="h"><a id="L232">232</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">if ($location =~ /^([\w\s\-]+),([\w\s]+),([\w\s]+)?$/) { }</td></tr>
<tr><td class="h"></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">elsif ($location =~ /^([\w\s\-]+),([\w\s]+),([\w\s]+),\s*(Canada|United States|USA|US)?$/) { }</td></tr>
<tr><td class="h"></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">elsif ($location =~ /^[\w\s-],[\w\s-]/) { }</td></tr>
<tr><td class="h"></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">elsif ($location =~ /^[\w\s-]+$/ and my $region = $params{&#39;region&#39;}) { }</td></tr>
<tr><td class="h"></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">elsif ($location =~ /^([\w\s-]+),\s*(\w+)$/) { }</td></tr>
<tr><td class="h"><a id="L242">242</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">if ($location =~ /^St\.? (.+)/)</td></tr>
<tr><td class="h"><a id="L245">245</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">if ($country =~ /^(Canada|United States|USA|US)$/)</td></tr>
<tr><td class="h"><a id="L282">282</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">if ($country)</td></tr>
<tr><td class="h"><a id="L283">283</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">if (defined $country and $country eq &#39;UK&#39; || $country eq &#39;United Kingdom&#39; || $country eq &#39;England&#39;)</td></tr>
<tr><td class="h"><a id="L293">293</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">if ($state and $admin1cache{$state}) { }</td></tr>
<tr><td class="h"></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">elsif ($admin1cache{$country} and not defined $state) { }</td></tr>
<tr><td class="h"><a id="L298">298</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">unless $$self{&quot;admin1&quot;} //= &quot;Geo::Coder::Free::DB::MaxMind::admin1&quot;-&gt;new(&quot;no_entry&quot;, 1)</td></tr>
<tr><td class="h"><a id="L300">300</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">if (my $admin1 = $$self{&#39;admin1&#39;}-&gt;fetchrow_hashref(&#39;asciiname&#39;, $country)) { }</td></tr>
<tr><td class="h"></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">elsif ($state) { }</td></tr>
<tr><td class="h"></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">elsif ($countrycode) { }</td></tr>
<tr><td class="h"></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">elsif (Locale::Country::code2country($country)) { }</td></tr>
<tr><td class="h"><a id="L305">305</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">if ($state =~ /^[A-Z]{2}$/) { }</td></tr>
<tr><td class="h"><a id="L311">311</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">if ($$admin1{&quot;concatenated_codes&quot;} =~ /^$concatenated_codes\./i)</td></tr>
<tr><td class="h"><a id="L327">327</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">unless defined $concatenated_codes</td></tr>
<tr><td class="h"><a id="L334">334</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">if ($country =~ /^(United States|USA|US)$/) { }</td></tr>
<tr><td class="h"></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">elsif ($country eq &#39;Canada&#39; and $state and length $state &gt; 2) { }</td></tr>
<tr><td class="h"><a id="L335">335</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">if ($county and length $county &gt; 2)</td></tr>
<tr><td class="h"><a id="L336">336</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">if (my $twoletterstate = &quot;Locale::US&quot;-&gt;new-&gt;{&quot;state2code&quot;}{uc $county})</td></tr>
<tr><td class="h"><a id="L341">341</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">if ($state and length $state &gt; 2)</td></tr>
<tr><td class="h"><a id="L342">342</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">if (my $twoletterstate = &quot;Locale::US&quot;-&gt;new-&gt;{&quot;state2code&quot;}{uc $state})</td></tr>
<tr><td class="h"><a id="L349">349</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">if (&quot;Locale::CA&quot;-&gt;new-&gt;{&quot;province2code&quot;}{uc $state})</td></tr>
<tr><td class="h"><a id="L351">351</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">unless defined $location</td></tr>
<tr><td class="h"><a id="L355">355</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">unless $$self{&quot;admin2&quot;} //= &quot;Geo::Coder::Free::DB::MaxMind::admin2&quot;-&gt;new(&quot;no_entry&quot;, 1)</td></tr>
<tr><td class="h"><a id="L357">357</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">if (defined $county and $county =~ /^[A-Z]{2}$/ and $country =~ /^(United States|USA|US)$/) { }</td></tr>
<tr><td class="h"></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">elsif ($county and $admin1cache{$county}) { }</td></tr>
<tr><td class="h"></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">elsif ($county and $admin2cache{$county}) { }</td></tr>
<tr><td class="h"></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">elsif (defined $state and $admin2cache{$state} and not defined $county) { }</td></tr>
<tr><td class="h"><a id="L371">371</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">if (defined $county and $county eq &#39;London&#39;) { }</td></tr>
<tr><td class="h"></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">elsif (defined $county) { }</td></tr>
<tr><td class="h"><a id="L380">380</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">if ($$admin2{&quot;concatenated_codes&quot;} =~ /$concatenated_codes/)</td></tr>
<tr><td class="h"><a id="L382">382</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">if ($region =~ /^[A-Z]{2}\.([A-Z]{2})\./) { }</td></tr>
<tr><td class="h"><a id="L384">384</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">if (defined $state and $state =~ /^[A-Z]{2}$/) { }</td></tr>
<tr><td class="h"><a id="L385">385</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">if ($state eq $rc)</td></tr>
<tr><td class="h"><a id="L399">399</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">if ($state and not defined $region)</td></tr>
<tr><td class="h"><a id="L400">400</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">if ($state =~ /^[A-Z]{2}$/) { }</td></tr>
<tr><td class="h"><a id="L406">406</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">if ($$admin2{&quot;concatenated_codes&quot;} =~ /$concatenated_codes/)</td></tr>
<tr><td class="h"><a id="L415">415</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">if (scalar @regions == 0 and not defined $region)</td></tr>
<tr><td class="h"><a id="L420">420</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">if (scalar @admin2s == 0 and $country =~ /^(Canada|United States|USA|US)$/ and not $location =~ /\sCounty/i)</td></tr>
<tr><td class="h"><a id="L425">425</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">if (scalar @admin2s and defined $admin2s[0]{&#39;concatenated_codes&#39;}) { }</td></tr>
<tr><td class="h"></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">elsif (defined $county) { }</td></tr>
<tr><td class="h"><a id="L428">428</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">if ($concat =~ /^CA\.(\d\d)\./) { }</td></tr>
<tr><td class="h"></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">elsif ($concat =~ /$concatenated_codes/) { }</td></tr>
<tr><td class="h"><a id="L440">440</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">unless (defined $$self{&quot;admin1&quot;})</td></tr>
<tr><td class="h"><a id="L441">441</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">unless $$self{&quot;admin1&quot;} = &quot;Geo::Coder::Free::DB::MaxMind::admin1&quot;-&gt;new(&quot;no_entry&quot;, 1)</td></tr>
<tr><td class="h"><a id="L446">446</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">if ($$admin1{&quot;concatenated_codes&quot;} =~ /^$concatenated_codes\./i)</td></tr>
<tr><td class="h"><a id="L448">448</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">if (scalar @admin1s == 1)</td></tr>
<tr><td class="h"><a id="L457">457</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">unless (defined $$self{&quot;cities&quot;})</td></tr>
<tr><td class="h"><a id="L465">465</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">if (defined $county and $county =~ /^[A-Z]{2}$/ and $country =~ /^(United States|USA|US)$/) { }</td></tr>
<tr><td class="h"><a id="L468">468</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">if ($region_only) { }</td></tr>
<tr><td class="h"><a id="L475">475</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">if ($region)</td></tr>
<tr><td class="h"><a id="L476">476</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">if ($region =~ /^.+\.(.+)$/)</td></tr>
<tr><td class="h"><a id="L480">480</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">if ($country_code)</td></tr>
<tr><td class="h"><a id="L485">485</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">if (scalar @admin2s == 1)</td></tr>
<tr><td class="h"><a id="L486">486</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">if ($state) { }</td></tr>
<tr><td class="h"></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">elsif ($county) { }</td></tr>
<tr><td class="h"><a id="L495">495</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">if (my $c = $params{&#39;region&#39;}) { }</td></tr>
<tr><td class="h"></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">elsif ($countrycode) { }</td></tr>
<tr><td class="h"><a id="L581">581</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">unless (defined $city)</td></tr>
<tr><td class="h"><a id="L584">584</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">if ($region =~ /^.+\.(.+)$/)</td></tr>
<tr><td class="h"><a id="L587">587</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">if ($country =~ /^(United States|USA|US)$/)</td></tr>
<tr><td class="h"><a id="L588">588</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">unless $region =~ /^[A-Z]{2}$/</td></tr>
<tr><td class="h"><a id="L592">592</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">if defined $city</td></tr>
<tr><td class="h"><a id="L597">597</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">if (defined $city and defined $$city{&quot;Latitude&quot;})</td></tr>
<tr><td class="h"><a id="L599">599</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">if defined $$city{&quot;Region&quot;} and $$city{&quot;Region&quot;} =~ /^[A-Z]\d$/</td></tr>
<tr><td class="h"><a id="L600">600</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">if defined $$city{&quot;Population&quot;} and length $$city{&quot;Population&quot;} == 0</td></tr>
<tr><td class="h"><a id="L626">626</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">if (not ref $self) { }</td></tr>
<tr><td class="h"></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">elsif (ref $self eq &#39;HASH&#39;) { }</td></tr>
<tr><td class="h"></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">elsif (ref $_[0] eq &#39;HASH&#39;) { }</td></tr>
<tr><td class="h"></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">elsif (ref $_[0]) { }</td></tr>
<tr><td class="h"></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">elsif (scalar @_ and scalar(@_) % 2 == 0) { }</td></tr>
<tr><td class="h"><a id="L627">627</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">if (scalar @_) { }</td></tr>
<tr><td class="h"></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">elsif (not defined $self) { }</td></tr>
<tr><td class="h"></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">elsif ($self eq __PACKAGE__) { }</td></tr>
<tr><td class="h"><a id="L654">654</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">if ($latlng) { }</td></tr>
<tr><td class="h"><a id="L662">662</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">unless (defined $latitude and defined $longitude)</td></tr>
<tr><td class="h"><a id="L666">666</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">unless (defined $$self{&quot;cities&quot;})</td></tr>
<tr><td class="h"><a id="L673">673</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">if (wantarray)</td></tr>
<tr><td class="h"><a id="L682">682</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">if (my $rc = $$self{&quot;cities&quot;}-&gt;execute(&quot;SELECT * FROM cities WHERE ((ABS(Latitude - $latitude)) &lt; $radius) AND ((ABS(Longitude - $longitude)) &lt; $radius) LIMIT 1&quot;))</td></tr>
<tr><td class="h"><a id="L694">694</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">if (my $region = $$loc{&quot;Region&quot;})</td></tr>
<tr><td class="h"><a id="L699">699</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">if ($value eq $region)</td></tr>
<tr><td class="h"><a id="L704">704</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">if ($county) { }</td></tr>
<tr><td class="h"><a id="L708">708</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">unless $$self{&quot;admin2&quot;} //= &quot;Geo::Coder::Free::DB::MaxMind::admin2&quot;-&gt;new(&quot;no_entry&quot;, 1)</td></tr>
<tr><td class="h"><a id="L713">713</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">if (ref $row and $$row{&quot;name&quot;})</td></tr>
</table>
</body>
</html>
